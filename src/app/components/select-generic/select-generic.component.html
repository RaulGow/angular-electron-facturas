<div class="field-wrapper" [class.has-error]="error()" [class.is-disabled]="isDisabled()">
  <div class="label-row">
    <label [for]="selectId">{{ label() }}</label>
    @if (error()) {
      <span class="error-badge">Requerido</span>
    }
  </div>
  
  <div class="input-container">
    <select
      [id]="selectId"
      [disabled]="isDisabled()"
      (change)="handleChange($event)"
      (blur)="onTouched()"
      class="input-control select-control"
    >
      @if (placeholder()) {
        <option value="" disabled [selected]="internalValue() === ''">{{ placeholder() }}</option>
      }
      @for (option of options(); track option.id) {
        <option [value]="option.id" [selected]="option.id === internalValue()">
          {{ option.nombre }}
        </option>
      }
    </select>
    
    <span class="select-arrow">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </span>
  </div>

  @if (error()) {
    <p class="error-text" role="alert">{{ error() }}</p>
  }
</div>